var zHash=function(){var d=new Object();var b=function(e){return e.replace("#","").replace("!","").replace(/\s/g,"_")};var a=b(window.location.hash);var c="";return{hash:function(){return b(c)},listen:function(f,e){if(typeof f=="string"){d[f]=e}},run:function(g){g=b(g);var f=g.split("/");for(var e=1;e<f.length;e++){if(f[e].length>0){f[0]+="/$"}}if(d[f[0]]){c=f[0];d[f[0]].apply(undefined,f.slice(1))}},start:function(e){if("onhashchange" in window&&(document.documentMode===undefined||document.documentMode>7)){if(e&&b(window.location.hash)==""){window.location.hash=e}window.onhashchange=function(){zHash.run(window.location.hash)};zHash.run(window.location.hash)}else{var f=300;if(e){zHash.listen("",function(){zHash.run(e)})}zHash.run(window.location.hash);window.setInterval(function(){var g=b(window.location.hash);if(g!=a){zHash.run(g)}a=g},f)}}}}();